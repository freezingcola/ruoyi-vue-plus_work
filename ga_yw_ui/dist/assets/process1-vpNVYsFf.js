import{L as U,aP as D,h as F,o as e,c as s,k as c,m as a,x as p,M as L,N as x,ad as m,T as _,p as w,q as k,y as f,aw as S,aQ as A,aR as B,aS as W,G as M,a0 as V,am as T,I as G,J as H}from"./index-BoCONcAc.js";import{_ as O}from"./index-Xwb6tvPf.js";/* empty css                *//* empty css                        *//* empty css                             */import{m as Z}from"./index-DABdJVQF.js";const j={computed:{http(){return D}},props:{processData:Object},data(){return{str:"<p>内容: 11、13:00用户报障网络卡顿后，AICC工程师 ping&amp;nbsp;测AICC服务器19.106.13.80，出现丢包现象。2、13:05—13:15运维中心值班人员登陆核心12708设备查看Eth-trunk 10互联链路，Eth-trunk 10中的成员口G1/2/0/13口状态为DOWN。3、13：15-13:42运维中心值班人员到机房复位Eth-trunk10口中的成员口G1/2/0/13，接口仍未仍未有恢复，然存在丢包情况。4、13:50-14：30 华为侧单工通过LLDP发现12708的 G1/2/0/13错连8F-C01-36U-ZWW Access-s5735-3的G0/0/47口，导致物理接口状态与聚合接口活动链路状态不一致。 经过与华为侧专家共同分析确认原因为：核心交换机12708与汇聚交换机8F-C01-38U-40U-ZWW Access-S5735 之间的物理线路松动，导致链路频繁震荡，从而导致汇聚交换机8F-C01-38U-40U-ZWW Access-S5735上所部署的业务出现up/down的情况。</p>",userName:F().nickname,listData:[],isFile:!1,Attachs:[],list:[{label:"创建",prop:"2",status:"todo"},{label:"接收",prop:"3",status:"todo"},{label:"处置",prop:"4",status:"todo"},{label:"审核通过",prop:"1",status:"todo"}],activeIndex:0}},mounted(){this.getList()},methods:{openFileList(r){this.isFile=!0,this.Attachs=r,console.log(r)},showHtml(r){return r.replace(r?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&amp;nbsp;/g,"　")},done(r){if(r>this.listData.length-1)return;this.activeIndex=r,this.list.forEach(i=>{i.status==="active"&&(i.status="done",delete i.prevStatus)});const n=this.list[r];n.status!=="active"&&(n.prevStatus=n.status,n.status="active")},async getList(){let r=this.processData.someProperty,n=await Z(r);if(n.data){this.listData=n.data,n.data.forEach(u=>{u.state=="0"&&n.data.forEach(l=>{if(console.log(l.state),l.state==0){let o=[];o.push({label:"创建",prop:"2",status:"todo"},{label:"接收",prop:"3",status:"todo"},{label:"处置",prop:"4",status:"todo"},{label:"审核不通过",prop:"0",status:"todo"},{label:"重新接收",status:"todo"},{label:"重新处置",status:"todo"},{label:"再次审核",status:"todo"}),this.list=o}else if(l.state==3){let o=[];o.push({label:"创建",prop:"2",status:"todo"},{label:"接收",prop:"3",status:"todo"},{label:"处置",prop:"4",status:"todo"},{label:"审核不通过",prop:"0",status:"todo"},{label:"重新接收",prop:"3",status:"todo"},{label:"重新处置",status:"todo"},{label:"再次审核",status:"todo"}),this.list=o}else if(l.state=="4"){let o=[];o.push({label:"创建",prop:"2",status:"todo"},{label:"接收",prop:"3",status:"todo"},{label:"处置",prop:"4",status:"todo"},{label:"审核不通过",prop:"0",status:"todo"},{label:"重新接收",prop:"3",status:"todo"},{label:"重新处置",prop:"4",status:"todo"},{label:"再次审核",status:"todo"}),this.list=o}else if(l.state=="1"){let o=[];o.push({label:"创建",prop:"2",status:"todo"},{label:"接收",prop:"3",status:"todo"},{label:"处置",prop:"4",status:"todo"},{label:"审核不通过",prop:"0",status:"todo"},{label:"重新接收",prop:"3",status:"todo"},{label:"重新处置",prop:"4",status:"todo"},{label:"再次审核(通过)",prop:"1",status:"todo"}),this.list=o}else if(l.state=="6"){let o=[];o.push({label:"创建",prop:"2",status:"todo"},{label:"接收",prop:"3",status:"todo"},{label:"处置",prop:"4",status:"todo"},{label:"审核不通过",prop:"0",status:"todo"},{label:"重新接收",prop:"3",status:"todo"},{label:"重新处置",prop:"4",status:"todo"},{label:"再次审核（不通过）",prop:"6",status:"todo"}),this.list=o}})});let i=-1;this.list.forEach((u,l)=>{this.listData.some(h=>h.state===u.prop)?(u.status="done",i=l):u.status="todo"}),i!==-1&&(this.activeIndex=i,this.list[i].status="active"),this.listData.forEach((u,l)=>{if(u.urlList&&u.urlList.length>0){let o=JSON.parse(u.urlList),h=[];o.forEach((d,y)=>{h.push({url:d.url,name:d.url})}),u.NewUrlList=h}}),console.log(this.listData)}}}},N=r=>(G("data-v-1aada1e6"),r=r(),H(),r),q=N(()=>p("div",{style:{height:"0px"}},null,-1)),z={style:{height:"800px"}},J={class:"arrowsBox"},Q=["onClick"],R={class:"card-header"},K={key:0},X={key:0,style:{background:"#ee0707",color:"#fff3e0"}},Y={key:1,style:{background:"#f15c30",color:"#fff3e0"}},$={key:2,style:{background:"#feb44a",color:"#fff3e0"}},tt={key:3,style:{background:"#2c5acf",color:"#fff3e0"}},et={key:4,style:{background:"#7e8cf4",color:"#fff3e0"}},st={key:5,style:{background:"#7e8cf4",color:"#fff3e0"}},ot={key:6,style:{background:"#7e8cf4",color:"#fff3e0"}},at={key:7,style:{background:"#7e8cf4",color:"#fff3e0"}},lt={key:8,style:{background:"#7e8cf4",color:"#fff3e0"}},rt={key:9,style:{background:"#7e8cf4",color:"#fff3e0"}},ct={key:10,style:{background:"#7e8cf4",color:"#fff3e0"}},nt={key:11},dt={key:0,style:{background:"#ee0707",color:"#fff3e0"}},pt={key:1,style:{background:"#f15c30",color:"#fff3e0"}},ut={key:2,style:{background:"#feb44a",color:"#fff3e0"}},it={key:3,style:{background:"#2c5acf",color:"#fff3e0"}},_t={key:4,style:{background:"#7e8cf4",color:"#fff3e0"}},ft={key:5},ht=["innerHTML"],bt={class:"demo-image__preview",style:{"text-align":"end"}},kt=N(()=>p("div",{class:"image-slot"},"文件不是图片类型",-1)),yt={class:"dialog-footer"};function wt(r,n,i,u,l,o){const h=S,d=A,y=B,C=W,v=M,E=V,I=O,P=T;return e(),s("div",null,[c(h,{style:{position:"static"},content:[l.userName]},{default:a(()=>[q]),_:1},8,["content"]),p("div",z,[p("div",J,[(e(!0),s(L,null,x(l.list,(t,b)=>(e(),s("div",{key:b,class:"arrowsItem",onClick:g=>o.done(b)},[p("div",{class:m(["arrows-up arrows",{arrows_active:t.status==="active",arrows_done:t.status==="done",arrows_todo:t.status==="todo"}])},null,2),p("div",{class:m(["arrows-down arrows",{arrows_active:t.status==="active",arrows_done:t.status==="done",arrows_todo:t.status==="todo"}])},null,2),p("div",{class:m(["arrows-label",{arrows_label_active:t.status==="active",arrows_label_done:t.status==="done",arrows_label_todo:t.status==="todo"}])},_(t.label),3)],8,Q))),128))]),(e(!0),s(L,null,x(l.listData,(t,b)=>(e(),s("div",{key:b},[l.activeIndex==b?(e(),w(E,{key:0},{header:a(()=>[p("div",R,[t.state!==0?(e(),s("span",K,_(t.state==2?"创建":t.state==3?"接收":t.state==4?"处置":"已完成"),1)):k("",!0)])]),default:a(()=>[c(y,{column:"1"},{default:a(()=>[c(d,{label:"项目:"},{default:a(()=>[f(_(t.projectName),1)]),_:2},1024)]),_:2},1024),c(y,{column:"1"},{default:a(()=>[c(d,{width:"363",label:"主题:"},{default:a(()=>[f(_(t.workTitle),1)]),_:2},1024)]),_:2},1024),c(y,{column:"6"},{default:a(()=>[c(d,{label:"发起人:"},{default:a(()=>[f(_(t.createBy),1)]),_:2},1024),c(d,{label:"对接人:"},{default:a(()=>[f(_(t.contactPerson),1)]),_:2},1024),c(d,{label:"接收人:"},{default:a(()=>[f(_(t.createBy),1)]),_:2},1024),c(d,{label:"类型:"},{default:a(()=>[t.contactPerson==1?(e(),s("span",X,"材料整理、编写")):t.contactPerson==2?(e(),s("span",Y,"故障处理")):t.contactPerson==3?(e(),s("span",$,"常态巡检")):t.contactPerson==4?(e(),s("span",tt,"沟通协调")):t.contactPerson==5?(e(),s("span",et,"临时工作")):t.contactPerson==6?(e(),s("span",st,"技术评估")):t.contactPerson==7?(e(),s("span",ot,"现场保障")):t.contactPerson==8?(e(),s("span",at,"工单处理")):t.contactPerson==9?(e(),s("span",lt,"资源管理")):t.contactPerson==10?(e(),s("span",rt,"变更实施")):t.contactPerson==11?(e(),s("span",ct,"参加会议")):(e(),s("span",nt,"其他"))]),_:2},1024),c(d,{label:"紧急程度:"},{default:a(()=>[t.workLevel==1?(e(),s("span",dt,"一级")):t.workLevel==2?(e(),s("span",pt,"二级")):t.workLevel==3?(e(),s("span",ut,"三级")):t.workLevel==4?(e(),s("span",it,"四级")):t.workLevel==5?(e(),s("span",_t,"其他")):(e(),s("span",ft,"未知"))]),_:2},1024),c(d,{label:"时间:"},{default:a(()=>[f(_(t.createTime),1)]),_:2},1024),c(d,{label:"内容:"},{default:a(()=>[p("div",{style:{"max-width":"650px"},innerHTML:o.showHtml(t.workContent)},null,8,ht)]),_:2},1024)]),_:2},1024),p("div",bt,[t.NewUrlList&&t.NewUrlList.length>0?(e(),w(C,{key:0,style:{width:"100px",height:"100px"},src:t.NewUrlList[0].url,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":t.NewUrlList.map(g=>g.url),"initial-index":Math.min(4,t.NewUrlList.length-1),fit:"cover"},{error:a(()=>[kt]),_:2},1032,["src","preview-src-list","initial-index"])):k("",!0),p("p",null,[t.NewUrlList&&t.NewUrlList.length>0?(e(),w(v,{key:0,style:{color:"#1c84c6"},onClick:g=>o.openFileList(t.attachs)},{default:a(()=>[f(" 查看附件 ("+_(t.NewUrlList.length)+") ",1)]),_:2},1032,["onClick"])):k("",!0)])])]),_:2},1024)):k("",!0)]))),128))]),c(P,{modelValue:l.isFile,"onUpdate:modelValue":n[1]||(n[1]=t=>l.isFile=t),title:"附件",width:"50%"},{footer:a(()=>[p("div",yt,[c(v,{onClick:n[0]||(n[0]=t=>l.isFile=!1)},{default:a(()=>[f("关闭")]),_:1})])]),default:a(()=>[l.isFile?(e(),w(I,{key:0,"model-value":l.Attachs},null,8,["model-value"])):k("",!0)]),_:1},8,["modelValue"])])}const Ct=U(j,[["render",wt],["__scopeId","data-v-1aada1e6"]]);export{Ct as default};
