import{d as p,aq as _,V as m,r as f,i as I,o as l,c as o,k as x,m as g,M as y,N as h,e as k,x as V,T as w,aI as C,L as N}from"./index-BoCONcAc.js";const O={class:"upload-file"},T=["onClick"],b=p({__name:"index",props:{modelValue:{type:[String,Object,Array],default:()=>[]},limit:_.number.def(5)},emits:["update:modelValue"],setup(i,{emit:A}){const d=i,{proxy:a}=m(),n=f([]);I(()=>d.modelValue,async e=>{if(e){let r=1,t=[];if(Array.isArray(e))t=e;else try{t=JSON.parse(e).map(s=>({name:s.name,ossId:s.id}))}catch{t=[],t.push({name:e,ossId:e})}n.value=t.map(s=>(s={name:s.name,url:s.url,ossId:s.ossId},s.uid=s.uid||new Date().getTime()+r++,s))}else return n.value=[],[]},{deep:!0,immediate:!0});const u=e=>e.lastIndexOf("/")>-1?e.slice(e.lastIndexOf("/")+1):e,c=e=>{a==null||a.$download.oss(e)};return(e,r)=>(l(),o("div",O,[x(C,{class:"upload-file-list el-upload-list el-upload-list--text",name:"el-fade-in-linear",tag:"ul"},{default:g(()=>[(l(!0),o(y,null,h(k(n),(t,s)=>(l(),o("li",{key:t.uid,class:"el-upload-list__item ele-upload-list__item-content"},[V("span",{class:"el-icon-document",onClick:B=>c(t.ossId)},w(u(t.name)),9,T)]))),128))]),_:1})]))}}),L=N(b,[["__scopeId","data-v-991b4c81"]]);export{L as _};
