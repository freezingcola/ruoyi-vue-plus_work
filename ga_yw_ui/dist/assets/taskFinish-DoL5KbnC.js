import{d as A,r as s,V as J,b as G,o as E,c as H,k as e,m as a,w as c,x as S,e as o,t as w,y as d,a7 as y,ab as M,a3 as X,p as $,T as b,Y as j,D as O,C as W,G as Z,H as ee,a0 as oe,X as te,a8 as ae,ak as ne,a9 as le,v as ie}from"./index-BoCONcAc.js";import{_ as se}from"./index-B1KNwlHH.js";/* empty css                 *//* empty css                    *//* empty css                        *//* empty css               */import{_ as re}from"./index-B4NenLWv.js";/* empty css                *//* empty css                */import"./el-form-item-l0sNRNKZ.js";import{o as pe}from"./index-DSKxzbdu.js";import{w as me}from"./index-BWlz0r_B.js";/* empty css                */const ue={class:"p-2"},ce={class:"mb-[10px]"},Ee=A({__name:"taskFinish",setup(de){const V=s(),{proxy:_}=J(),f=s(!0),T=s([]),x=s(!0),F=s(!0),m=s(!0),g=s(0),C=s([]),i=s({pageNum:1,pageSize:10,name:void 0,processDefinitionName:void 0,processDefinitionKey:void 0}),p=()=>{D()},B=()=>{var l;(l=V.value)==null||l.resetFields(),i.value.pageNum=1,i.value.pageSize=10,p()},U=l=>{T.value=l.map(n=>n.id),x.value=l.length!==1,F.value=!l.length},D=()=>{f.value=!0,pe(i.value).then(l=>{C.value=l.rows,g.value=l.total,f.value=!1})},z=l=>{const n=j({wfDefinitionConfigVo:l.wfDefinitionConfigVo,wfNodeConfigVo:l.wfNodeConfigVo,businessKey:l.businessKey,taskId:l.id,type:"view"});me.routerJump(n,_)};return G(()=>{D()}),(l,n)=>{var k,K;const v=O,u=W,h=Z,R=ee,N=oe,I=re,Y=te,r=ae,q=ne,L=le,P=se,Q=ie;return E(),H("div",ue,[e(M,{"enter-active-class":(k=o(_))==null?void 0:k.animate.searchAnimate.enter,"leave-active-class":(K=o(_))==null?void 0:K.animate.searchAnimate.leave},{default:a(()=>[c(S("div",ce,[e(N,{shadow:"hover"},{default:a(()=>[c(e(R,{ref_key:"queryFormRef",ref:V,model:o(i),inline:!0},{default:a(()=>[e(u,{label:"任务名称",prop:"name"},{default:a(()=>[e(v,{modelValue:o(i).name,"onUpdate:modelValue":n[0]||(n[0]=t=>o(i).name=t),placeholder:"请输入任务名称",onKeyup:w(p,["enter"])},null,8,["modelValue"])]),_:1}),e(u,{label:"流程定义名称","label-width":"100",prop:"processDefinitionName"},{default:a(()=>[e(v,{modelValue:o(i).processDefinitionName,"onUpdate:modelValue":n[1]||(n[1]=t=>o(i).processDefinitionName=t),placeholder:"请输入流程定义名称",onKeyup:w(p,["enter"])},null,8,["modelValue"])]),_:1}),e(u,{label:"流程定义KEY","label-width":"100",prop:"processDefinitionKey"},{default:a(()=>[e(v,{modelValue:o(i).processDefinitionKey,"onUpdate:modelValue":n[2]||(n[2]=t=>o(i).processDefinitionKey=t),placeholder:"请输入流程定义KEY",onKeyup:w(p,["enter"])},null,8,["modelValue"])]),_:1}),e(u,null,{default:a(()=>[e(h,{type:"primary",icon:"Search",onClick:p},{default:a(()=>[d("搜索")]),_:1}),e(h,{icon:"Refresh",onClick:B},{default:a(()=>[d("重置")]),_:1})]),_:1})]),_:1},8,["model"]),[[y,o(m)]])]),_:1})],512),[[y,o(m)]])]),_:1},8,["enter-active-class","leave-active-class"]),e(N,{shadow:"hover"},{header:a(()=>[e(Y,{gutter:10,class:"mb8"},{default:a(()=>[e(I,{showSearch:o(m),"onUpdate:showSearch":n[3]||(n[3]=t=>X(m)?m.value=t:null),onQueryTable:p},null,8,["showSearch"])]),_:1})]),default:a(()=>[c((E(),$(L,{border:"",data:o(C),onSelectionChange:U},{default:a(()=>[e(r,{type:"selection",width:"55",align:"center"}),e(r,{align:"center",type:"index",label:"序号",width:"60"}),e(r,{"show-overflow-tooltip":!0,align:"center",label:"流程定义名称"},{default:a(t=>[S("span",null,b(t.row.processDefinitionName)+"v"+b(t.row.processDefinitionVersion)+".0",1)]),_:1}),e(r,{align:"center",prop:"processDefinitionKey",label:"流程定义KEY"}),e(r,{align:"center",prop:"name",label:"任务名称"}),e(r,{align:"center",prop:"assigneeName",label:"办理人"},{default:a(t=>[e(q,{type:"success"},{default:a(()=>[d(b(t.row.assigneeName||"无"),1)]),_:2},1024)]),_:1}),e(r,{align:"center",prop:"startTime",label:"创建时间",width:"160"}),e(r,{label:"操作",align:"center",width:"200"},{default:a(t=>[e(h,{type:"primary",size:"small",icon:"View",onClick:_e=>z(t.row)},{default:a(()=>[d("查看")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[Q,o(f)]]),c(e(P,{page:o(i).pageNum,"onUpdate:page":n[4]||(n[4]=t=>o(i).pageNum=t),limit:o(i).pageSize,"onUpdate:limit":n[5]||(n[5]=t=>o(i).pageSize=t),total:o(g),onPagination:p},null,8,["page","limit","total"]),[[y,o(g)>0]])]),_:1})])}}});export{Ee as default};
