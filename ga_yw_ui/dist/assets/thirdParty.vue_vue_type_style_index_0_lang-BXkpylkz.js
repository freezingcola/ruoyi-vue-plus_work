import{an as h,d as f,aq as v,V as b,S as w,o as k,c as C,k as s,m as d,x as t,y as $,e as x,R as E,a8 as T,G as y,a9 as B,_ as G}from"./index-BoCONcAc.js";/* empty css                 *//* empty css                    *//* empty css                        */function N(i){return h({url:"/auth/binding/"+i,method:"get"})}function V(i){return h({url:"/auth/unlock/"+i,method:"delete"})}function Q(){return h({url:"/system/social/list",method:"get"})}const I=["src"],M={id:"git-user-binding"},q=t("h4",{class:"provider-desc"},"你可以绑定以下第三方帐号",-1),z={id:"authlist",class:"user-bind"},A={class:"git-other-login-icon"},K=t("span",{class:"app-name"},"WeiXin",-1),P={class:"git-other-login-icon"},R=t("span",{class:"app-name"},"MaxKey",-1),S={class:"git-other-login-icon"},U=t("span",{class:"app-name"},"TopIam",-1),H={class:"git-other-login-icon"},L=t("span",{class:"app-name"},"Gitee",-1),W={class:"git-other-login-icon"},X=t("span",{class:"app-name"},"Github",-1),Y=f({__name:"thirdParty",props:{auths:v.any.isRequired},setup(i){const{proxy:a}=b(),p=i,u=w(()=>p.auths),m=c=>{E.confirm('您确定要解除"'+c.source+'"的账号绑定吗？').then(()=>V(c.id)).then(e=>{e.code===200?(a==null||a.$modal.msgSuccess("解绑成功"),a==null||a.$tab.refreshPage()):a==null||a.$modal.msgError(e.msg)}).catch(()=>{})},l=c=>{N(c).then(e=>{e.code===200?window.location.href=e.data:a==null||a.$modal.msgError(e.msg)})};return(c,e)=>{const n=T,_=y,g=B,r=G;return k(),C("div",null,[s(g,{data:x(u),style:{width:"100%",height:"100%","font-size":"14px"}},{default:d(()=>[s(n,{label:"序号",width:"50",type:"index"}),s(n,{label:"绑定账号平台",width:"140",align:"center",prop:"source","show-overflow-tooltip":""}),s(n,{label:"头像",width:"120",align:"center",prop:"avatar"},{default:d(o=>[t("img",{src:o.row.avatar,style:{width:"45px",height:"45px"}},null,8,I)]),_:1}),s(n,{label:"系统账号",width:"180",align:"center",prop:"userName","show-overflow-tooltip":!0}),s(n,{label:"绑定时间",width:"180",align:"center",prop:"createTime"}),s(n,{label:"操作",width:"80",align:"center","class-name":"small-padding fixed-width"},{default:d(o=>[s(_,{size:"small",type:"text",onClick:j=>m(o.row)},{default:d(()=>[$("解绑")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),t("div",M,[q,t("div",z,[t("a",{class:"third-app",href:"#",title:"使用 微信 账号授权登录",onClick:e[0]||(e[0]=o=>l("wechat"))},[t("div",A,[s(r,{"icon-class":"wechat"})]),K]),t("a",{class:"third-app",href:"#",title:"使用 MaxKey 账号授权登录",onClick:e[1]||(e[1]=o=>l("maxkey"))},[t("div",P,[s(r,{"icon-class":"maxkey"})]),R]),t("a",{class:"third-app",href:"#",title:"使用 TopIam 账号授权登录",onClick:e[2]||(e[2]=o=>l("topiam"))},[t("div",S,[s(r,{"icon-class":"topiam"})]),U]),t("a",{class:"third-app",href:"#",title:"使用 Gitee 账号授权登录",onClick:e[3]||(e[3]=o=>l("gitee"))},[t("div",H,[s(r,{"icon-class":"gitee"})]),L]),t("a",{class:"third-app",href:"#",title:"使用 GitHub 账号授权登录",onClick:e[4]||(e[4]=o=>l("github"))},[t("div",W,[s(r,{"icon-class":"github"})]),X])])])])}}});export{Y as _,Q as g};
